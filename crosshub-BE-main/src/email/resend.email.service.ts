import { BadRequestException, Inject, Injectable } from '@nestjs/common';
import { EmailService } from './email.service';
import { Resend } from 'resend';
import { INJECT_RESEND } from './resend-provider';

@Injectable()
export class ResendEmailService implements EmailService {
  constructor(@Inject(INJECT_RESEND) private resend: Resend) {}
  public async sendEmail(to: string, code: string) {
    const { data, error } = await this.resend.emails.send({
      from: 'IDBlock <idblock@idblock.id>',
      to: [to],
      subject: '[IDBlock] Verify Your Email',
      html: `
        <div style="font-family: Arial, sans-serif; padding: 32px; background-color: #f9f9f9;">
          <div style="max-width: 600px; margin: 0 auto; background: #fff; padding: 32px; border-radius: 8px; text-align: center;">
            <img src="data:image/png;base64,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" alt="logo" style="width: 48px;" />
            
            <h2 style="color: #333;">VERIFY YOUR EMAIL ADDRESS</h2>
            
            <div style="border-bottom: 1px solid #f4f4f4; margin: 32px 0;"></div>
            
            <p style="color: #555;">Your verification code is:</p>
            
            <div style="display: inline-block; margin: 24px 0;">
              <div style="background-color: #f9f9f9; width: fit-content; border-radius: 8px; padding: 12px;">
                <span style="display: inline-block; margin: 0 4px; color: #ff5520; font-size: 32px; font-weight: bold; letter-spacing: 10px;">
                  ${code}
                </span>
              </div>
            </div>

            <p style="color: #888;">
              Please enter this code in the app to continue your signup process.
            </p>
          </div>
        </div>
      `,
    });

    if (error) {
      throw new BadRequestException(error);
    }

    console.log(data);

    return 'Eemail sent from RESEND';
  }
}
